<!DOCTYPE html >
<html charset="utf-8">
<head>
	<title>Distribuição automática de jogadores</title>
	<script type="text/javascript">
		function distribua() {
			document.getElementById("resultado").value = "";

			var nomesJogadores = document.getElementById("nomesJogadores");
			var grupos = {};
			var linhas = nomesJogadores.value.split("\n");
			
			for (i = 0; i < linhas.length; i++) {
				var linha = linhas[i];
				var grupo = linha.split("\t")[0];
				var jogador = linha.split("\t")[1];
				if (!grupos[grupo]) {
					grupos[grupo] = [];
				}
				grupos[grupo].push(jogador);
			}
			// alert(grupos.A);
			for (grupo in grupos) {
				distribuirGrupo(grupo, grupos[grupo]);				
			}
		}

		function distribuirGrupo(grupo, jogadores) {
			var qtd = jogadores.length;
			var resultado = document.getElementById("resultado");
			var result = "";

			var separador = "\t\t\t\t\t";
			if (qtd == 3) {
				result += grupo + "\t" + jogadores[0] + separador + jogadores[2] + "\n";
				result += grupo + "\t" + jogadores[1] + separador + jogadores[2] + "\n";
				result += grupo + "\t" + jogadores[0] + separador + jogadores[1] + "\n";
			}
			if (qtd == 4) {
				result += grupo + "\t" + jogadores[0] + separador + jogadores[3] + "\n";
				result += grupo + "\t" + jogadores[1] + separador + jogadores[2] + "\n";
				result += grupo + "\t" + jogadores[0] + separador + jogadores[2] + "\n";
				result += grupo + "\t" + jogadores[1] + separador + jogadores[3] + "\n";
				result += grupo + "\t" + jogadores[2] + separador + jogadores[3] + "\n";
				result += grupo + "\t" + jogadores[0] + separador + jogadores[1] + "\n";

			}
			if (qtd == 5) {
				result += grupo + "\t" + jogadores[4] + separador + jogadores[1] + "\n";
				result += grupo + "\t" + jogadores[3] + separador + jogadores[2] + "\n";
				result += grupo + "\t" + jogadores[3] + separador + jogadores[0] + "\n";
				result += grupo + "\t" + jogadores[2] + separador + jogadores[1] + "\n";
				result += grupo + "\t" + jogadores[2] + separador + jogadores[4] + "\n";
				result += grupo + "\t" + jogadores[1] + separador + jogadores[0] + "\n";

				result += grupo + "\t" + jogadores[1] + separador + jogadores[3] + "\n";
				result += grupo + "\t" + jogadores[0] + separador + jogadores[4] + "\n";
				result += grupo + "\t" + jogadores[0] + separador + jogadores[2] + "\n";
				result += grupo + "\t" + jogadores[4] + separador + jogadores[3] + "\n";
			}

			resultado.value += result;
		}
	</script>
</head>
<body>
	<span id="painel">
		Cole aqui os nomes dos jogadores para distribuir, no seguinte formato:<br>
		<pre>
			GRUPO1	Nome
			GRUPO1	Nome2
			Grupo2	Nome3
			Grupo2	Nome4</pre>
		<textarea id="nomesJogadores" style="width: 100%;height: 200px">A	jogador 1
A	jogador 2
A	jogador 3
B	jogador 4
B	jogador 5
B	jogador 6</textarea>
		<br>
		<button id="btnDistribua" onclick="distribua()">Distribua!</button>
		<br>
		Copie e cole na sua planilha:<br>
		<textarea id="resultado" style="width: 100%;height: 200px"></textarea>
	</span>
</body>
</html>